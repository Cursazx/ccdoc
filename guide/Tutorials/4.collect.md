# Collect reward
Here's a short guide on how to make a one-time use command.
It will allow users to collect a money reward, which they can collect only once.

## 1. Create a command
The very first thing is to [create a new command](../Guide/1.create.md), and setting it up so it will trigger correctly.

## 2. Set a trigger
Users will collect their reward using a word `!collect` command, so let's apply the following trigger:

![Trigger](https://cdn.discordapp.com/attachments/957286111250624552/1102554279417495583/image.png)

## 3. Craft the code
As we are done with the initial setup, it's time to make the command actually work.

::: tip We will use:
* [$getUserVar](../Variables/getUserVar.md) - to load user's balance
* [$let](../Variables/let.md) - to temporarily store the balance
* [$math](../Text/Math/math.md) - to calculate new balance
* [$setUserVar](../Variables/setUserVar.md) - to set the new balance
:::

### Prize
The reward users will receive will be 100$ with [template economy](../Guide/4.template.md).
Since the template economy uses `money` user var to store user's balance, we will have to contribute to that var.

### Getting user var
Let's get user's balance and store it in `bal` temporary variable
```php
$let[bal;$getUserVar[money]]
```

### Calculating new balance
Add 100$ to the balance
```php
$let[bal;$math[$bal+100]]
```

### Saving the new balance
As we have the new balance, let's overwrite the current balance with the new one
```php
$setUserVar[money;$bal]
```

By now the command will successfully increase the balance, but we want users to be able to collect it only once.

### Setting a variable
In order to prevent users from collecting multiple rewards, we have to save information whether each user has used the command already.

```php
$setUserVar[hasCollected;true]
```

### Adding a conditon
We now have a variable called `hasCollected` which returns whether user has already collected the reward, let's use it to prevent users from collecting the same reward multiple times, by putting this code at the beginning.

```php
$onlyIf[$getUserVar[hasCollected]!=true;You cannot collect the same reward more than once!]
```

### Final result
![Setup preview](https://cdn.discordapp.com/attachments/957286111250624552/1102577377688698920/collect.png)

Let's see if it works correctly

<discord-messages>
    <discord-message author="Member" role-color="#ffcc9a">
        !collect
    </discord-message>
    <discord-message :bot=true author="Custom Command" role-color="#0099ff" avatar="https://media.discordapp.net/avatars/725721249652670555/781224f90c3b841ba5b40678e032f74a.webp">
        Enjoy your 100$ reward!
    </discord-message>
    <discord-message author="Member" role-color="#ffcc9a">
        !collect
    </discord-message>
    <discord-message :bot=true author="Custom Command" role-color="#0099ff" avatar="https://media.discordapp.net/avatars/725721249652670555/781224f90c3b841ba5b40678e032f74a.webp">
        You cannot collect the same reward more than once!
    </discord-message>
</discord-messages>